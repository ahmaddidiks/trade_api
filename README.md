# Trade API

Basic golang rest API deployed in [Railway](https://railway.app/).

This app use several stacks:
- Router with [gin](https://pkg.go.dev/github.com/gin-gonic/gin)
- ORM with [gorm](https://pkg.go.dev/gorm.io/gorm)
- Validation with [go validator](https://pkg.go.dev/github.com/asaskevich/govalidator)
- Auth with [jwt](https://jwt.io/)
- Image Storage with [cloudinary](https://cloudinary.com/)


#### How to deploy in Railway?
- First, make a [cloudinary](https://cloudinary.com/) account and create your project there. You will get [cloudinary](https://cloudinary.com/) key like this:
```
CLOUDINARY_CLOUD_NAME=...
CLOUDINARY_API_KEY=...
CLOUDINARY_API_SECRET=...
CLOUDINARY_UPLOAD_FOLDER=...
```

- Second, make a [Railway](https://railway.app/) account and create your project there. \
  - New project then create SQL server by chosing provision SQL. You will get db server key access like this:
    ```
    HOST=..
    DB_USER=..
    DB_PASSWORD=...
    DB_NAME=...
    DB_PORT=...
    ```
  - New project then chose Deploy from Github repo, chose your repo. Then configure the variable.
    The simplest one is use raw and copy from previous secret key. Your variable should be like this:
    ```
    HOST=...
    DB_USER=...
    DB_PASSWORD=...
    DB_NAME=...
    DB_PORT=...
    PORT=3000
    CLOUDINARY_CLOUD_NAME=...
    CLOUDINARY_API_KEY=...
    CLOUDINARY_API_SECRET=...
    CLOUDINARY_UPLOAD_FOLDER=...
    ```
    The port have to be setted 3000 based on this [Railway docs](https://docs.railway.app/troubleshoot/fixing-common-errors#go--nethttp).

- Third, test your API with postman, the import the [trade_api_postman.json](https://github.com/ahmaddidiks/trade_api/blob/bfd85382405b649009b6cace6e2d2bd93a9add38/trade_api_postman.json)

